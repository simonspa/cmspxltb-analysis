<?xml version="1.0" encoding="us-ascii"?>
<!-- ?xml-stylesheet type="text/xsl" href="http://ilcsoft.desy.de/marlin/marlin.xsl"? -->
<!-- ?xml-stylesheet type="text/xsl" href="marlin.xsl"? -->


<!--###############################################
    #                                             #
    #     Example steering file for hitmaker      #
    #	  Version: $Id$                           #
    #                                             #
    ###############################################-->

<marlin xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://ilcsoft.desy.de/marlin/marlin.xsd">

  <execute>
    <processor name="AIDA"/>
    <processor name="HitMakerM26"/>
    <processor name="MyEUTelPreAlign"/> 
    <processor name="Save"/>
    <processor name="MyEUTelUtilityPrintEventNumber"/>
  </execute>

  <global>
    <parameter name="LCIOInputFiles"> @LcioPath@/@FilePrefix@-clustering.slcio </parameter>
    <parameter name="GearXMLFile" value="@GeometryPath@/@GearFile@"/>
    <parameter name="MaxRecordNumber" value="@MaxRecordNumber@"/>
    <parameter name="SkipNEvents" value="0"/>
    <parameter name="SupressCheck" value="false"/>
    <parameter name="Verbosity"> @Verbosity@  </parameter> 
  </global>

  <processor name="AIDA" type="AIDAProcessor">
    <parameter name="Compress" type="int" value="1"/>
    <parameter name="FileName" type="string"> @HistogramPath@/@FilePrefix@-hitmaker </parameter>
    <parameter name="FileType" type="string" value="root"/>
  </processor>

  <processor name="HitMakerM26" type="EUTelHitMaker">
    <parameter name="PulseCollectionName" type="string" lcioInType="TrackerPulse"> m26_cluster </parameter>
    <parameter name="HitCollectionName" type="string" lcioOutType="TrackerHit"> hit </parameter>
    <parameter name="CoGAlgorithm" type="string" value="@CenterOfGravity@"/>
    <parameter name="Enable3DHisto" type="bool" value="false"/>
    <parameter name="EtaSwitch" type="bool" value="false"/>
    <parameter name="NPixel" type="int" value="@NPixel@"/>
    <parameter name="NxMPixel" type="IntVec"> @NxMPixel@ </parameter>
  </processor>

  <processor name="Save" type="EUTelOutputProcessor">
    <parameter name="DropCollectionNames" type="StringVec"> m26_cluster </parameter>
    <parameter name="LCIOOutputFile" type="string">  @LcioPath@/@FilePrefix@-hitmaker.slcio </parameter>
    <parameter name="LCIOWriteMode" type="string" value="WRITE_NEW"/>
  </processor>

  <processor name="MyEUTelPreAlign" type="EUTelPreAlign">
    <parameter name="InputHitCollectionName" type="string" lcioInType="TrackerHit"> hit </parameter>
    <parameter name="AlignmentConstantLCIOFile" type="string" value="@DatabasePath@/@FilePrefix@-prealignment.slcio"/>
    <parameter name="Events" type="int" value="@PrealignEvents@"/>
    <parameter name="HistogramFilling" type="bool" value="@FillHistograms@"/>
    <parameter name="HotPixelCollectionName" type="string" value="m26_hotpixel"/>
    <parameter name="MinNumberOfCorrelatedHits" type="int" value="4"/>
  </processor>

  <processor name="MyEUTelUtilityPrintEventNumber" type="EUTelUtilityPrintEventNumber">
    <parameter name="EveryNEvents" type="int" value="1000"/>
    <parameter name="printTimestamp" type="bool" value="false" />
  </processor>

</marlin>
